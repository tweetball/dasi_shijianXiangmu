<!--
    Êñá‰ª∂ÂêçÁß∞ÔºöpaymentIndex.html
    Êñá‰ª∂ÂäüËÉΩÔºöÁîüÊ¥ªÁº¥Ë¥πÈ¶ñÈ°µÊ®°Êùø
    ÂäüËÉΩÊ¶ÇËø∞Ôºö
        1. ÊòæÁ§∫ÁîüÊ¥ªÁº¥Ë¥πÊúçÂä°È¶ñÈ°µÔºåÂåÖÊã¨ÁªüËÆ°Âç°ÁâáÔºàÊÄªË¥¶Âçï„ÄÅÂæÖÁº¥Ë¥π„ÄÅÂ∑≤Áº¥Ë¥π„ÄÅÈÄæÊúüÔºâ
        2. ÊòæÁ§∫Áº¥Ë¥πÁ±ªÂûãÂàóË°®ÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩÔºâ
        3. Êèê‰æõË¥¶ÂçïÁ≠õÈÄâÂäüËÉΩÔºàÂÖ®ÈÉ®„ÄÅÂæÖÁº¥Ë¥π„ÄÅÂ∑≤Áº¥Ë¥π„ÄÅÈÄæÊúüÔºâ
        4. ÊòæÁ§∫Ë¥¶ÂçïÂàóË°®ÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩÔºâ
        5. Êèê‰æõÂä†ËΩΩÁä∂ÊÄÅÂíåÁ©∫Áä∂ÊÄÅÊèêÁ§∫
        6. ÂìçÂ∫îÂºèËÆæËÆ°ÔºåÊîØÊåÅPCÁ´ØÂíåÁßªÂä®Á´ØËÆøÈóÆ
    ÊäÄÊúØÊ†àÔºöHTML5 + CSS3 + JavaScript + ThymeleafÊ®°ÊùøÂºïÊìé
    ‰æùËµñÊñá‰ª∂Ôºö
        - Font AwesomeÂõæÊ†áÂ∫ìÔºàCDNÔºâ
        - /css/navbar.cssÔºàÂØºËà™Ê†èÊ†∑ÂºèÔºâ
        - /css/payment.cssÔºàÁîüÊ¥ªÁº¥Ë¥πÊ†∑ÂºèÔºâ
        - /js/payment.jsÔºàÁîüÊ¥ªÁº¥Ë¥πJavaScriptÂäüËÉΩÔºâ
    ‰ΩúËÄÖÔºöÊ∏∏Â∏ÇÁîüÊ¥ªÂºÄÂèëÂõ¢Èòü
    ÂàõÂª∫Êó•ÊúüÔºö2024Âπ¥
    ÊúÄÂêéÊõ¥Êñ∞Ôºö2024Âπ¥
-->
<!DOCTYPE html>
<!-- HTML5ÊñáÊ°£Á±ªÂûãÂ£∞ÊòéÔºåÊ†áËØÜËøôÊòØ‰∏Ä‰∏™HTML5ÊñáÊ°£ -->
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<!-- 
    HTMLÊ†πÂÖÉÁ¥†
    lang="zh-CN"ÔºöËÆæÁΩÆÈ°µÈù¢ËØ≠Ë®Ä‰∏∫ÁÆÄ‰Ωì‰∏≠Êñá
    xmlns:th="http://www.thymeleaf.org"ÔºöÂ£∞ÊòéThymeleafÂëΩÂêçÁ©∫Èó¥ÔºåÁî®‰∫éÊ®°ÊùøÂºïÊìéËØ≠Ê≥ï
-->
<head>
    <!-- HTMLÊñáÊ°£Â§¥ÈÉ®ÔºåÂåÖÂê´ÂÖÉÊï∞ÊçÆÂíåÊ†∑ÂºèË°®ÂºïÁî® -->
    <!-- Â≠óÁ¨¶ÁºñÁ†ÅÂ£∞ÊòéÔºåÊåáÂÆöÈ°µÈù¢‰ΩøÁî®UTF-8ÁºñÁ†ÅÔºåÊîØÊåÅ‰∏≠ÊñáÁ≠âÂ§öËØ≠Ë®ÄÂ≠óÁ¨¶ -->
    <meta charset="UTF-8">
    <!-- ËßÜÂè£ÂÖÉÊï∞ÊçÆÔºåËÆæÁΩÆÈ°µÈù¢Âú®ÁßªÂä®ËÆæÂ§á‰∏äÁöÑÊòæÁ§∫ÊñπÂºèÔºåwidth=device-widthË°®Á§∫ÂÆΩÂ∫¶Ëá™ÈÄÇÂ∫îËÆæÂ§áÂÆΩÂ∫¶Ôºåinitial-scale=1.0Ë°®Á§∫ÂàùÂßãÁº©ÊîæÊØî‰æã‰∏∫1.0 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- È°µÈù¢Ê†áÈ¢ò -->
    <title>Ê∏∏Â∏ÇÁîüÊ¥ª - ÁîüÊ¥ªÁº¥Ë¥π</title>
    <!-- Font AwesomeÂõæÊ†áÂ∫ìÔºàCDNÔºâ -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- ÂØºËà™Ê†èÊ†∑ÂºèË°® -->
    <link rel="stylesheet" href="/css/navbar.css">
    <!-- ÁîüÊ¥ªÁº¥Ë¥πÊ†∑ÂºèË°® -->
    <link rel="stylesheet" href="/css/payment.css">
</head>

<body>
    <!-- È°µÈù¢‰∏ª‰Ωì -->
    <!-- Áªü‰∏ÄÂØºËà™Ê†è -->
    <!-- È°µÈù¢Â§¥ÈÉ®ÂØºËà™Ê†è -->
    <header class="header">
        <!-- ÂØºËà™Ê†èÂÆπÂô® -->
        <nav class="nav">
            <!-- ÁΩëÁ´ôLogoÈìæÊé• -->
            <a href="/" class="logo">
                <!-- ÂüéÂ∏ÇÂõæÊ†á -->
                <i class="fas fa-city"></i>
                <!-- ÁΩëÁ´ôÂêçÁß∞ -->
                Ê∏∏Â∏ÇÁîüÊ¥ª
            </a>
            <!-- ÂØºËà™ÈìæÊé•ÂàóË°® -->
            <ul class="nav-links">
                <!-- È¶ñÈ°µÂØºËà™ÈìæÊé• -->
                <li><a href="/">È¶ñÈ°µ</a></li>
                <!-- ‰ΩèÂÆøÊúçÂä°ÂØºËà™ÈìæÊé• -->
                <li><a href="/hc/f2">‰ΩèÂÆøÊúçÂä°</a></li>
                <!-- Âá∫Ë°åÊúçÂä°ÂØºËà™ÈìæÊé• -->
                <li><a href="/travel">Âá∫Ë°åÊúçÂä°</a></li>
                <!-- ÁæéÈ£üÊúçÂä°ÂØºËà™ÈìæÊé• -->
                <li><a href="/food">ÁæéÈ£üÊúçÂä°</a></li>
                <!-- Ë¥≠Áâ©ÊúçÂä°ÂØºËà™ÈìæÊé• -->
                <li><a href="/shopping">Ë¥≠Áâ©ÊúçÂä°</a></li>
                <!-- ÁîüÊ¥ªÁº¥Ë¥πÂØºËà™ÈìæÊé• -->
                <li><a href="/payment">ÁîüÊ¥ªÁº¥Ë¥π</a></li>
            </ul>
            <!-- Áî®Êà∑Êìç‰ΩúÂå∫Âüü -->
            <div class="user-actions">
                <!-- Êú™ÁôªÂΩïÁä∂ÊÄÅÊòæÁ§∫ -->
                <!-- ‰ΩøÁî®ThymeleafÂà§Êñ≠Áî®Êà∑ÊòØÂê¶Êú™ÁôªÂΩï -->
                <div th:if="${session.user == null}">
                    <!-- ÁôªÂΩïÊåâÈíÆÈìæÊé• -->
                    <a href="/user/login" class="login-btn">ÁôªÂΩï</a>
                    <!-- Ê≥®ÂÜåÊåâÈíÆÈìæÊé• -->
                    <a href="/user/register" class="register-btn">Ê≥®ÂÜå</a>
                </div>
                <!-- Â∑≤ÁôªÂΩïÁä∂ÊÄÅÊòæÁ§∫ -->
                <!-- ‰ΩøÁî®ThymeleafÂà§Êñ≠Áî®Êà∑ÊòØÂê¶Â∑≤ÁôªÂΩï -->
                <div th:if="${session.user != null}">
                    <!-- ÊàëÁöÑËÆ¢ÂçïÈìæÊé•ÔºàÁªü‰∏ÄËÆ¢Âçï‰∏≠ÂøÉÔºâ -->
                    <a href="/unified-new/orders" style="color: #FF6600; text-decoration: none; font-weight: 500; margin-right: 15px;">
                        <!-- ËÆ¢ÂçïÂàóË°®ÂõæÊ†á -->
                        <i class="fas fa-list-alt"></i>
                        <!-- ÊàëÁöÑËÆ¢ÂçïÊñáÊú¨ -->
                        ÊàëÁöÑËÆ¢Âçï
                    </a>
                    <!-- ‰∏™‰∫∫‰∏≠ÂøÉÈìæÊé• -->
                    <a href="/user/profile" style="color: #00CED1; text-decoration: none; font-weight: 500;">
                        <!-- Áî®Êà∑ÂõæÊ†á -->
                        <i class="fas fa-user-circle"></i>
                        <!-- Áî®Êà∑ÊòµÁß∞ÊàñÁî®Êà∑ÂêçÔºà‰ΩøÁî®ThymeleafÂä®ÊÄÅÊòæÁ§∫Ôºå‰ºòÂÖàÊòæÁ§∫ÊòµÁß∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÊòæÁ§∫Áî®Êà∑ÂêçÔºâ -->
                        <span th:text="${session.user.nickname ?: session.user.username}">Áî®Êà∑</span>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- ‰∏ªË¶ÅÂÜÖÂÆπ -->
    <!-- ÁîüÊ¥ªÁº¥Ë¥πÈ°µÈù¢‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
    <main class="payment-container">
        <!-- È°µÈù¢Ê†áÈ¢ò -->
        <!-- È°µÈù¢Â§¥ÈÉ®Ê†áÈ¢òÂå∫Âüü -->
        <div class="page-header">
            <!-- È°µÈù¢‰∏ªÊ†áÈ¢òÔºàÂ∏¶ÂõæÊ†áÔºâ -->
            <h1><i class="fas fa-credit-card"></i> ÁîüÊ¥ªÁº¥Ë¥π</h1>
            <!-- È°µÈù¢ÂâØÊ†áÈ¢ò -->
            <p>‰æøÊç∑Áº¥Ë¥πÔºåÂÆâÂÖ®ÂèØÈù†</p>
        </div>

        <!-- ÁªüËÆ°Âç°Áâá -->
        <!-- Ë¥¶ÂçïÁªüËÆ°Âç°ÁâáÂå∫ÂüüÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÊõ¥Êñ∞Êï∞ÊçÆÔºâ -->
        <div class="stats-cards" id="statsCards">
            <!-- ÊÄªË¥¶ÂçïÁªüËÆ°Âç°Áâá -->
            <div class="stat-card">
                <!-- ÁªüËÆ°ÂõæÊ†á -->
                <div class="stat-icon">
                    <!-- ÂèëÁ•®ÂõæÊ†á -->
                    <i class="fas fa-file-invoice"></i>
                </div>
                <!-- ÁªüËÆ°ÂÜÖÂÆπÂå∫Âüü -->
                <div class="stat-content">
                    <!-- ÊÄªË¥¶ÂçïÊï∞ÈáèÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÊõ¥Êñ∞Ôºâ -->
                    <div class="stat-number" id="totalBills">0</div>
                    <!-- ÁªüËÆ°Ê†áÁ≠æ -->
                    <div class="stat-label">ÊÄªË¥¶Âçï</div>
                </div>
            </div>
            <!-- ÂæÖÁº¥Ë¥πÁªüËÆ°Âç°Áâá -->
            <div class="stat-card">
                <!-- ÁªüËÆ°ÂõæÊ†áÔºàÂæÖÁº¥Ë¥πÊ†∑ÂºèÔºâ -->
                <div class="stat-icon unpaid">
                    <!-- Êó∂ÈíüÂõæÊ†á -->
                    <i class="fas fa-clock"></i>
                </div>
                <!-- ÁªüËÆ°ÂÜÖÂÆπÂå∫Âüü -->
                <div class="stat-content">
                    <!-- ÂæÖÁº¥Ë¥πÊï∞ÈáèÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÊõ¥Êñ∞Ôºâ -->
                    <div class="stat-number" id="unpaidBills">0</div>
                    <!-- ÁªüËÆ°Ê†áÁ≠æ -->
                    <div class="stat-label">ÂæÖÁº¥Ë¥π</div>
                </div>
            </div>
            <!-- Â∑≤Áº¥Ë¥πÁªüËÆ°Âç°Áâá -->
            <div class="stat-card">
                <!-- ÁªüËÆ°ÂõæÊ†áÔºàÂ∑≤Áº¥Ë¥πÊ†∑ÂºèÔºâ -->
                <div class="stat-icon paid">
                    <!-- ÂÆåÊàêÂõæÊ†á -->
                    <i class="fas fa-check-circle"></i>
                </div>
                <!-- ÁªüËÆ°ÂÜÖÂÆπÂå∫Âüü -->
                <div class="stat-content">
                    <!-- Â∑≤Áº¥Ë¥πÊï∞ÈáèÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÊõ¥Êñ∞Ôºâ -->
                    <div class="stat-number" id="paidBills">0</div>
                    <!-- ÁªüËÆ°Ê†áÁ≠æ -->
                    <div class="stat-label">Â∑≤Áº¥Ë¥π</div>
                </div>
            </div>
            <!-- ÈÄæÊúüÁªüËÆ°Âç°Áâá -->
            <div class="stat-card">
                <!-- ÁªüËÆ°ÂõæÊ†áÔºàÈÄæÊúüÊ†∑ÂºèÔºâ -->
                <div class="stat-icon overdue">
                    <!-- Ë≠¶ÂëäÂõæÊ†á -->
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <!-- ÁªüËÆ°ÂÜÖÂÆπÂå∫Âüü -->
                <div class="stat-content">
                    <!-- ÈÄæÊúüÊï∞ÈáèÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÊõ¥Êñ∞Ôºâ -->
                    <div class="stat-number" id="overdueBills">0</div>
                    <!-- ÁªüËÆ°Ê†áÁ≠æ -->
                    <div class="stat-label">ÈÄæÊúü</div>
                </div>
            </div>
        </div>

        <!-- Áº¥Ë¥πÁ±ªÂûã -->
        <!-- Áº¥Ë¥πÁ±ªÂûãÂ±ïÁ§∫Âå∫Âüü -->
        <div class="payment-types">
            <!-- Áº¥Ë¥πÁ±ªÂûãÊ†áÈ¢ò -->
            <h2>Áº¥Ë¥πÁ±ªÂûã</h2>
            <!-- Áº¥Ë¥πÁ±ªÂûãÁΩëÊ†ºÂÆπÂô®ÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩÁº¥Ë¥πÁ±ªÂûãÔºâ -->
            <div class="type-grid" id="typeGrid">
                <!-- Áº¥Ë¥πÁ±ªÂûãÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩ -->
            </div>
        </div>

        <!-- Ë¥¶ÂçïÁ≠õÈÄâ -->
        <!-- Ë¥¶ÂçïÁ≠õÈÄâÂå∫Âüü -->
        <div class="bill-filters">
            <!-- ÊàëÁöÑË¥¶ÂçïÊ†áÈ¢ò -->
            <h2>ÊàëÁöÑË¥¶Âçï</h2>
            <!-- Á≠õÈÄâÊ†áÁ≠æÂÆπÂô® -->
            <div class="filter-tabs">
                <!-- ÂÖ®ÈÉ®Á≠õÈÄâÊ†áÁ≠æÔºàÈªòËÆ§ÊøÄÊ¥ªÔºâ -->
                <button class="filter-tab active" data-status="">ÂÖ®ÈÉ®</button>
                <!-- ÂæÖÁº¥Ë¥πÁ≠õÈÄâÊ†áÁ≠æÔºàdata-status="0"Ôºâ -->
                <button class="filter-tab" data-status="0">ÂæÖÁº¥Ë¥π</button>
                <!-- Â∑≤Áº¥Ë¥πÁ≠õÈÄâÊ†áÁ≠æÔºàdata-status="1"Ôºâ -->
                <button class="filter-tab" data-status="1">Â∑≤Áº¥Ë¥π</button>
                <!-- ÈÄæÊúüÁ≠õÈÄâÊ†áÁ≠æÔºàdata-status="2"Ôºâ -->
                <button class="filter-tab" data-status="2">ÈÄæÊúü</button>
            </div>
        </div>

        <!-- Ë¥¶ÂçïÂàóË°® -->
        <!-- Ë¥¶ÂçïÂàóË°®ÂÆπÂô®ÔºàÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩË¥¶ÂçïÔºâ -->
        <div class="bill-list" id="billList">
            <!-- Ë¥¶ÂçïÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩ -->
        </div>

        <!-- Âä†ËΩΩÁä∂ÊÄÅ -->
        <!-- Âä†ËΩΩÁä∂ÊÄÅÊèêÁ§∫ÔºàÂàùÂßãÈöêËóèÔºåÈÄöËøáJavaScriptÊéßÂà∂ÊòæÁ§∫/ÈöêËóèÔºâ -->
        <div class="loading" id="loadingState" style="display: none;">
            <!-- Âä†ËΩΩÂä®Áîª -->
            <div class="loading-spinner"></div>
            <!-- Âä†ËΩΩÊèêÁ§∫ÊñáÊú¨ -->
            <div>Âä†ËΩΩ‰∏≠...</div>
        </div>

        <!-- Á©∫Áä∂ÊÄÅ -->
        <!-- Á©∫Áä∂ÊÄÅÊèêÁ§∫ÔºàÂàùÂßãÈöêËóèÔºåÈÄöËøáJavaScriptÊéßÂà∂ÊòæÁ§∫/ÈöêËóèÔºâ -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <!-- Á©∫Áä∂ÊÄÅÂõæÊ†á -->
            <div class="empty-icon">üìÑ</div>
            <!-- Á©∫Áä∂ÊÄÅÊèêÁ§∫ÊñáÊú¨ -->
            <div class="empty-text">ÊöÇÊó†Ë¥¶Âçï</div>
        </div>
    </main>


    <!-- 
        JavaScript‰ª£Á†ÅÂùó
        ÂäüËÉΩÊ¶ÇËø∞ÔºöÂÆûÁé∞ÁîüÊ¥ªÁº¥Ë¥πÈ¶ñÈ°µÁöÑ‰∫§‰∫íÂäüËÉΩÔºåÂåÖÊã¨ÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅËÆæÁΩÆ„ÄÅË¥¶ÂçïÁ≠õÈÄâ„ÄÅÊï∞ÊçÆÂä†ËΩΩÁ≠â
    -->
    <!-- Â§ñÈÉ®JavaScriptÊñá‰ª∂ÔºàÁîüÊ¥ªÁº¥Ë¥πÂäüËÉΩÊ®°ÂùóÔºâ -->
    <script src="/js/payment.js"></script>
    <!-- ÂÜÖÂµåJavaScript‰ª£Á†Å -->
    <script>
        /**
         * Êñá‰ª∂Á∫ßÊ≥®ÈáäÔºöÁîüÊ¥ªÁº¥Ë¥πÈ¶ñÈ°µJavaScriptÂäüËÉΩÊ®°Âùó
         * ÂäüËÉΩÊ¶ÇËø∞Ôºö
         *   1. ÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅËÆæÁΩÆÂäüËÉΩÔºàÊ†πÊçÆÂΩìÂâçË∑ØÂæÑËÆæÁΩÆÂØºËà™ÈìæÊé•ÁöÑÊøÄÊ¥ªÁä∂ÊÄÅÔºâ
         *   2. Ë¥¶ÂçïÁ≠õÈÄâÂäüËÉΩÔºàÊ†πÊçÆÁ≠õÈÄâÊ†áÁ≠æÂä†ËΩΩÂØπÂ∫îÁä∂ÊÄÅÁöÑË¥¶ÂçïÔºâ
         *   3. È°µÈù¢ÂàùÂßãÂåñÂäüËÉΩÔºàÁªëÂÆö‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºåÂä†ËΩΩÂàùÂßãÊï∞ÊçÆÔºâ
         *   4. Êï∞ÊçÆÂà∑Êñ∞ÂäüËÉΩÔºà‰ªéÊîØ‰ªòÊàêÂäüÈ°µÈù¢ËøîÂõûÊó∂Âà∑Êñ∞Êï∞ÊçÆÔºâ
         */
        
        // ==================== ÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅËÆæÁΩÆÂäüËÉΩÊ®°Âùó ====================
        /**
         * ËÆæÁΩÆÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅ
         * ÂäüËÉΩÊ¶ÇËø∞ÔºöÊ†πÊçÆÂΩìÂâçÈ°µÈù¢Ë∑ØÂæÑÔºåËÆæÁΩÆÂØºËà™ÈìæÊé•ÁöÑÊøÄÊ¥ªÁä∂ÊÄÅÔºàÊ∑ªÂä†activeÁ±ªÔºâ
         */
        function setActiveNavItem() {
            // Ëé∑ÂèñÂΩìÂâçÈ°µÈù¢Ë∑ØÂæÑ
            const currentPath = window.location.pathname;
            // Ëé∑ÂèñÊâÄÊúâÂØºËà™ÈìæÊé•ÂÖÉÁ¥†
            const navLinks = document.querySelectorAll('.nav-links a');
            
            // ÈÅçÂéÜÊâÄÊúâÂØºËà™ÈìæÊé•ÔºåÁßªÈô§activeÁ±ªÔºåÁÑ∂ÂêéÊ†πÊçÆÂΩìÂâçË∑ØÂæÑÊ∑ªÂä†activeÁ±ª
            navLinks.forEach(link => {
                // ÁßªÈô§ÂØºËà™ÈìæÊé•ÁöÑactiveÁ±ªÔºåÂèñÊ∂àÊøÄÊ¥ªÁä∂ÊÄÅ
                link.classList.remove('active');
                // Ëé∑ÂèñÂØºËà™ÈìæÊé•ÁöÑhrefÂ±ûÊÄßÂÄº
                const href = link.getAttribute('href');
                
                // Âà§Êñ≠ÊòØÂê¶‰∏∫È¶ñÈ°µÔºàÂΩìÂâçË∑ØÂæÑ‰∏∫'/'‰∏îhref‰∏∫'/'Ôºâ
                if (currentPath === '/' && href === '/') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                // Âà§Êñ≠ÊòØÂê¶‰∏∫‰ΩèÂÆøÊúçÂä°È°µÈù¢ÔºàÂΩìÂâçË∑ØÂæÑ‰ª•'/hc/'ÂºÄÂ§¥‰∏îhref‰∏∫'/hc/f2'Ôºâ
                } else if (currentPath.startsWith('/hc/') && href === '/hc/f2') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                // Âà§Êñ≠ÊòØÂê¶‰∏∫Âá∫Ë°åÊúçÂä°È°µÈù¢ÔºàÂΩìÂâçË∑ØÂæÑ‰ª•'/travel'ÂºÄÂ§¥‰∏îhref‰∏∫'/travel'Ôºâ
                } else if (currentPath.startsWith('/travel') && href === '/travel') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                // Âà§Êñ≠ÊòØÂê¶‰∏∫ÁæéÈ£üÊúçÂä°È°µÈù¢ÔºàÂΩìÂâçË∑ØÂæÑ‰ª•'/food'ÂºÄÂ§¥‰∏îhref‰∏∫'/food'Ôºâ
                } else if (currentPath.startsWith('/food') && href === '/food') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                // Âà§Êñ≠ÊòØÂê¶‰∏∫Ë¥≠Áâ©ÊúçÂä°È°µÈù¢ÔºàÂΩìÂâçË∑ØÂæÑ‰ª•'/shopping'ÂºÄÂ§¥‰∏îhref‰∏∫'/shopping'Ôºâ
                } else if (currentPath.startsWith('/shopping') && href === '/shopping') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                // Âà§Êñ≠ÊòØÂê¶‰∏∫ÁîüÊ¥ªÁº¥Ë¥πÈ°µÈù¢ÔºàÂΩìÂâçË∑ØÂæÑ‰ª•'/payment'ÂºÄÂ§¥‰∏îhref‰∏∫'/payment'Ôºâ
                } else if (currentPath.startsWith('/payment') && href === '/payment') {
                    // Â¶ÇÊûúÂåπÈÖçÔºåÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    link.classList.add('active');
                }
            });
        }

        // ==================== È°µÈù¢ÂàùÂßãÂåñÂäüËÉΩÊ®°Âùó ====================
        /**
         * È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ
         * ÂäüËÉΩÊ¶ÇËø∞ÔºöÁõëÂê¨DOMContentLoaded‰∫ã‰ª∂ÔºåÂΩìDOMÂä†ËΩΩÂÆåÊàêÂêéËÆæÁΩÆÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅ„ÄÅÁªëÂÆöÁ≠õÈÄâÊ†áÁ≠æ‰∫ã‰ª∂„ÄÅÂä†ËΩΩÂàùÂßãÊï∞ÊçÆ
         */
        // ÁõëÂê¨DOMContentLoaded‰∫ã‰ª∂ÔºåÂΩìDOMÂä†ËΩΩÂÆåÊàêÂêéËß¶Âèë
        document.addEventListener('DOMContentLoaded', function() {
            // ÊâìÂç∞Ë∞ÉËØï‰ø°ÊÅØÂà∞ÊéßÂà∂Âè∞
            console.log('ÁîüÊ¥ªÁº¥Ë¥πÈ°µÈù¢Âä†ËΩΩÂÆåÊàê');
            
            // ËÆæÁΩÆÂØºËà™ÊøÄÊ¥ªÁä∂ÊÄÅ
            // Ë∞ÉÁî®setActiveNavItemÂáΩÊï∞ÔºåÊ†πÊçÆÂΩìÂâçË∑ØÂæÑËÆæÁΩÆÂØºËà™ÈìæÊé•ÁöÑÊøÄÊ¥ªÁä∂ÊÄÅ
            setActiveNavItem();
            
            // ÁªëÂÆöÁ≠õÈÄâÊ†áÁ≠æ‰∫ã‰ª∂
            // ÈÅçÂéÜÊâÄÊúâÁ≠õÈÄâÊ†áÁ≠æÔºå‰∏∫ÊØè‰∏™Ê†áÁ≠æÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.filter-tab').forEach(tab => {
                // ‰∏∫Á≠õÈÄâÊ†áÁ≠æÁªëÂÆöclick‰∫ã‰ª∂ÁõëÂê¨Âô®
                tab.addEventListener('click', function() {
                    // Êõ¥Êñ∞Ê†áÁ≠æÁä∂ÊÄÅ
                    // ÈÅçÂéÜÊâÄÊúâÁ≠õÈÄâÊ†áÁ≠æÔºåÁßªÈô§activeÁ±ªÔºåÂèñÊ∂àÊøÄÊ¥ªÁä∂ÊÄÅ
                    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                    // ‰∏∫ÂΩìÂâçÁÇπÂáªÁöÑÁ≠õÈÄâÊ†áÁ≠æÊ∑ªÂä†activeÁ±ªÔºåÊøÄÊ¥ªÈÄâ‰∏≠Áä∂ÊÄÅ
                    this.classList.add('active');
                    
                    // Âä†ËΩΩÂØπÂ∫îÁä∂ÊÄÅÁöÑË¥¶Âçï
                    // Ëé∑ÂèñÂΩìÂâçÁ≠õÈÄâÊ†áÁ≠æÁöÑdata-statusÂ±ûÊÄßÂÄºÔºàË¥¶ÂçïÁä∂ÊÄÅÔºâ
                    const status = this.getAttribute('data-status');
                    // Ë∞ÉÁî®loadBillsÂáΩÊï∞ÔºàÂÆö‰πâÂú®payment.js‰∏≠ÔºâÔºåÂä†ËΩΩÂØπÂ∫îÁä∂ÊÄÅÁöÑË¥¶Âçï
                    loadBills(status);
                });
            });
            
            // ÂàùÂßãÂä†ËΩΩÊï∞ÊçÆ
            // Ë∞ÉÁî®loadPaymentTypesÂáΩÊï∞ÔºàÂÆö‰πâÂú®payment.js‰∏≠ÔºâÔºåÂä†ËΩΩÁº¥Ë¥πÁ±ªÂûãÂàóË°®
            loadPaymentTypes();
            // Ë∞ÉÁî®loadStatsÂáΩÊï∞ÔºàÂÆö‰πâÂú®payment.js‰∏≠ÔºâÔºåÂä†ËΩΩË¥¶ÂçïÁªüËÆ°Êï∞ÊçÆ
            loadStats();
            // ÈªòËÆ§Âè™Âä†ËΩΩÊú™ÊîØ‰ªòÁöÑË¥¶ÂçïÔºàstatus=0Ôºâ
            // Ë∞ÉÁî®loadBillsÂáΩÊï∞ÔºàÂÆö‰πâÂú®payment.js‰∏≠ÔºâÔºåÂä†ËΩΩÂæÖÁº¥Ë¥πË¥¶ÂçïÔºàstatus=0Ôºâ
            loadBills(0);
            
            // Â¶ÇÊûúÊòØ‰ªéÊîØ‰ªòÊàêÂäüÈ°µÈù¢ËøîÂõûÁöÑÔºåÂà∑Êñ∞Êï∞ÊçÆ
            // ÂàõÂª∫URLSearchParamsÂØπË±°ÔºåËß£ÊûêURLÊü•ËØ¢ÂèÇÊï∞
            const urlParams = new URLSearchParams(window.location.search);
            // Âà§Êñ≠URL‰∏≠ÊòØÂê¶ÂåÖÂê´refresh=trueÂèÇÊï∞ÔºàË°®Á§∫‰ªéÊîØ‰ªòÊàêÂäüÈ°µÈù¢ËøîÂõûÔºâ
            if (urlParams.get('refresh') === 'true') {
                // Âª∂ËøüÂà∑Êñ∞ÔºåÁ°Æ‰øùÈ°µÈù¢Â∑≤Âä†ËΩΩÂÆåÊàê
                // ‰ΩøÁî®setTimeoutÂª∂Ëøü500ÊØ´ÁßíÂêéÊâßË°åÂà∑Êñ∞Êìç‰Ωú
                setTimeout(() => {
                    // ÈáçÊñ∞Âä†ËΩΩË¥¶ÂçïÁªüËÆ°Êï∞ÊçÆ
                    loadStats();
                    // ÈáçÊñ∞Âä†ËΩΩÂæÖÁº¥Ë¥πË¥¶ÂçïÔºàstatus=0Ôºâ
                    loadBills(0);
                }, 500);
                // Ê∏ÖÈô§URLÂèÇÊï∞
                // ‰ΩøÁî®window.history.replaceStateÊñπÊ≥ïÔºåÂ∞ÜURL‰∏≠ÁöÑÊü•ËØ¢ÂèÇÊï∞Ê∏ÖÈô§Ôºå‰ΩÜ‰∏çÂà∑Êñ∞È°µÈù¢
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        });
    </script>
    
</body>
</html>